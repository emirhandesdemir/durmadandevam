
rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Kurallar, "upload" klasöründeki tüm dosyalar için geçerlidir.
    match /upload/{allPaths=**} {
      // Herkesin (giriş yapmamış kullanıcılar dahil) bu yoldaki dosyaları okumasına (get, list) izin ver.
      // Bu, profil fotoğraflarının, gönderi resimlerinin vb. herkes tarafından görülebilmesi için gereklidir.
      allow read;

      // Sadece kimliği doğrulanmış kullanıcıların bu yola dosya yazmasına (create, update, delete) izin ver.
      // Bu, yalnızca uygulama kullanıcılarının içerik yükleyebilmesini sağlar.
      allow write: if request.auth != null;
    }
  }
}
